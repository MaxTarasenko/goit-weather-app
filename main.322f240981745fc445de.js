(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"04LC":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,o){return'<div>\n    <li class="search-location__slider-list-item">\n        <div class="search-location__slider-list-content">\n            <p class="search-location__slider-list-sity">'+e.escapeExpression(e.lambda(t,t))+'</p>\n            <button type="button" class="search-location__slider-list-content-renove-city__button">\n                <svg viewBox="0 0 32 32">\n                    <path\n                        d="M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z">\n                    </path>\n                </svg>\n            </button>\n        </div>\n    </li>\n</div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:16,column:9}}}))?l:""},useData:!0})},"1DEj":function(e,t,n){},"3Olm":function(e,t){const n=document.querySelector(".date__day"),a=document.querySelector(".date__month"),o=document.querySelector(".date__time");setInterval(()=>{const e=new Date;dayNow=e.getDate();const t=new Array;t[0]="Sun",t[1]="Mon",t[2]="Tue",t[3]="Wed",t[4]="Thu",t[5]="Fri",t[6]="Sat",weekDayNow=t[e.getDay()],n.innerHTML=`${dayNow}<sup class="date__day--nth">${function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(dayNow)}</sup> ${weekDayNow}`;const r=new Array;r[0]="January",r[1]="February",r[2]="March",r[3]="April",r[4]="May",r[5]="June",r[6]="July",r[7]="August",r[8]="September",r[9]="October",r[10]="November",r[11]="December",a.textContent=r[e.getMonth()],o.textContent=l(e.getHours())+":"+l(e.getMinutes())+":"+l(e.getSeconds())},1e3);function l(e){return String(e).padStart(2,"0")}},"7jFK":function(e,t){const n=document.querySelector(".days-list");document.querySelectorAll(".days-list__item");n.addEventListener("click",(function(e){e.preventDefault(),"BUTTON"==e.target.nodeName&&(e=>{document.querySelectorAll(".days-list__item").forEach(e=>{const t=e.childNodes[1],n=e.childNodes[9];t.classList.remove("days-list__day-of-the-week--active"),n.classList.remove("days-list__more-btn__active")});const t=e.target;e.path[1].firstElementChild.classList.add("days-list__day-of-the-week--active"),t.classList.add("days-list__more-btn__active")})(e)}))},MyEh:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="temperature-box">\n    <img src="'+i(typeof(l=null!=(l=u(n,"icon")||(null!=t?u(t,"icon"):t))?l:c)===s?l.call(r,{name:"icon",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:22}}}):l)+'" alt="'+i(typeof(l=null!=(l=u(n,"iconDescription")||(null!=t?u(t,"iconDescription"):t))?l:c)===s?l.call(r,{name:"iconDescription",hash:{},data:o,loc:{start:{line:2,column:29},end:{line:2,column:48}}}):l)+'" class="weather-picture-icon">\n    <p class="temperature-header">'+i(typeof(l=null!=(l=u(n,"city")||(null!=t?u(t,"city"):t))?l:c)===s?l.call(r,{name:"city",hash:{},data:o,loc:{start:{line:3,column:34},end:{line:3,column:42}}}):l)+", "+i(typeof(l=null!=(l=u(n,"countryCode")||(null!=t?u(t,"countryCode"):t))?l:c)===s?l.call(r,{name:"countryCode",hash:{},data:o,loc:{start:{line:3,column:44},end:{line:3,column:59}}}):l)+'</p>\n    <div class="degree-box">\n        <p class="degree-title">'+i(typeof(l=null!=(l=u(n,"temp")||(null!=t?u(t,"temp"):t))?l:c)===s?l.call(r,{name:"temp",hash:{},data:o,loc:{start:{line:5,column:32},end:{line:5,column:40}}}):l)+'&deg</p>\n        <ul class="degree-list">\n            <li class="degree-item">\n                <p class="degree-first-subtitle">min</p>\n                <p class="degree-second-subtitle">'+i(typeof(l=null!=(l=u(n,"tempMin")||(null!=t?u(t,"tempMin"):t))?l:c)===s?l.call(r,{name:"tempMin",hash:{},data:o,loc:{start:{line:9,column:50},end:{line:9,column:61}}}):l)+' &deg</p>\n            </li>\n            <li class="degree-item--line"></li>\n            <li class="degree-item">\n                <p class="degree-first-subtitle">max</p>\n                <p class="degree-second-subtitle">'+i(typeof(l=null!=(l=u(n,"tempMax")||(null!=t?u(t,"tempMax"):t))?l:c)===s?l.call(r,{name:"tempMax",hash:{},data:o,loc:{start:{line:14,column:50},end:{line:14,column:61}}}):l)+" &deg</p>\n            </li>\n        </ul>\n    </div>\n</div>"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("1DEj");var a=n("MyEh"),o=n.n(a),l=n("sntm"),r=n.n(l),c=n("xDKS"),s=n.n(c);const i=document.querySelector(".search-location__form"),u=document.querySelectorAll(".btn-5-days-js"),d=document.querySelectorAll(".btn-today-js"),m=document.querySelector(".today-box"),p=document.querySelector(".five-days-containeer"),y=document.querySelector(".moreInfo"),h=document.querySelector(".date__sunrise--time"),f=document.querySelector(".date__sunset--time"),_=document.querySelector(".days-list"),g=document.querySelector(".moreInfo__block"),v=document.querySelector(".today-city"),b=document.querySelector(".five-days-containeer__city-name"),w=document.querySelector(".today-container"),S=document.querySelector(".five-days-container");let x="",D="",k={},q={};const M=e=>"https://api.openweathermap.org/data/2.5/"+e+"?q="+x+"&appid=48f3906fa74131a752b29b56bb64ec12",L=async e=>{try{return(await fetch(e)).json()}catch(e){throw e}};function N(e){return e<10&&(e="0"+e),e}const E=(e,t)=>{const n=N(e.getHours()),a=N(e.getMinutes()),o=N(t.getHours()),l=N(t.getMinutes());h.textContent=n+":"+a,f.textContent=o+":"+l},O=e=>{document.querySelector(".temperature-box")?(document.querySelector(".temperature-box").remove(),m.insertAdjacentHTML("afterbegin",o()(e)),E(k.sunrise,k.sunset)):(m.insertAdjacentHTML("afterbegin",o()(e)),E(k.sunrise,k.sunset),w.classList.remove("isHiden"),S.classList.add("isHiden"))},T=e=>{document.querySelector(".temperature-box")&&(document.querySelector(".temperature-box").remove(),w.classList.add("isHiden"),S.classList.remove("isHiden"),v.textContent=q.city.name+", "+q.city.country,b.textContent=q.city.name+", "+q.city.country);const t=document.querySelectorAll(".days-list__item");t&&t.forEach(e=>e.remove()),_.innerHTML+=r()(e)},C=e=>{const t=new Date(1e3*e).getDay(),n=[];return n[0]="Sunday",n[1]="Monday",n[2]="Tuesday",n[3]="Wednesday",n[4]="Thursday",n[5]="Friday",n[6]="Saturday",n[t]},j=e=>{const t=new Date(1e3*e).getMonth(),n=[];return n[0]="Jan",n[1]="Feb",n[2]="Mar",n[3]="Apr",n[4]="May",n[5]="Jun",n[6]="Jul",n[7]="Aug",n[8]="Sep",n[9]="Oct",n[10]="Nov",n[11]="Dec",n[t]},P=e=>{const t=new Date(1e3*e[0].dt);if(t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(12),e=e.find(e=>e.dt==t.getTime()/1e3)){const t=e.weather[0];return{icon:"http://openweathermap.org/img/wn/"+t.icon+".png",iconDescription:t.description}}return"false"},H=e=>new Date(1e3*e.dt).getDate(),W=e=>Math.floor(e-273.15),A=async(e,t)=>{if("one"==e){const e=t.main,n=t.sys,a=t.weather[0];k.city=t.name,k.countryCode=t.sys.country,k.temp=W(e.temp),k.tempMin=W(e.temp_min),k.tempMax=W(e.temp_max),k.sunrise=new Date(1e3*n.sunrise),k.sunset=new Date(1e3*n.sunset),k.icon="http://openweathermap.org/img/wn/"+a.icon+".png",k.iconDescription=a.description,O(k)}"five"==e&&(q=(e=>{const t=e.list.map(e=>H(e)).filter((e,t,n)=>n.indexOf(e)===t).map(t=>e.list.filter(e=>H(e)===t)).map(e=>{return{DayNum:H(e[0]),Day:C(e[0].dt),Month:j(e[0].dt),date:e[0].dt,icon:P(e),forecast:e,temp:(t=e,t=t.map(e=>Math.floor(e.main.temp-273.15)),{TempMin:Math.min(...t),TempMax:Math.max(...t)})};var t});return"false"==t[5].icon?t.pop():t.shift(),{...e,list:t}})(t),console.log(q))};i.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(this);x=t.get("query"),D=M("weather"),L(D).then(e=>A("one",e)),D=M("forecast"),L(D).then(e=>A("five",e))})),d[0].addEventListener("click",()=>O(k)),d[1].addEventListener("click",()=>O(k)),u[0].addEventListener("click",()=>T(q)),u[1].addEventListener("click",()=>T(q)),_.addEventListener("click",(function(e){e.preventDefault();const t=e.target;"BUTTON"==t.nodeName&&(e=>{p.style.borderRadius="35px 35px 0 0",y.style.display="block";const t=Number(e.dataset.day),n=document.querySelectorAll(".timeWeather");n&&n.forEach(e=>e.remove());q.list.forEach(e=>{if(e.DayNum==t){const t=[];e.forecast.forEach(e=>{const n=new Date(1e3*e.dt),a={};a.time=N(n.getHours())+":"+N(n.getMinutes()),a.temp=Math.floor(e.main.temp-273.15),a.humidity=e.main.humidity,a.pressure=e.main.pressure,a.speed=e.wind.speed.toFixed(1),a.icon="http://openweathermap.org/img/wn/"+e.weather[0].icon+".png",a.iconDescription=e.weather[0].description,t.push(a)}),g.innerHTML+=s()(t)}})})(t)}));const Q=e=>{x=e||"Kyiv",D=M("weather"),L(D).then(e=>A("one",e)),D=M("forecast"),L(D).then(e=>A("five",e))};Q();n("tNz6");var B={searchInput:document.querySelector(".search-location__form"),backgroundWrapper:document.querySelector(".background-wrapper"),addToLocalStorageBtn:document.querySelector(".search-location__form-btn"),form:document.querySelector(".search-form"),listOfButtons:document.querySelector(".search-location__slider-list"),btnPrev:document.querySelector(".search-location__slider-btnPrev"),btnNext:document.querySelector(".search-location__slider-btnNext")},I=n("czhI"),J=n.n(I),$={searchQuery:"kiev",apiKey:"16192319-9ae9d95026dacaeb88e2fcf6c",makeQuery(){const e=`https://pixabay.com/api/?image_type=backgrounds&orientation=horizontal&q=${this.query}&per_page=5&key=${this.apiKey}`;return J.a.get(e).then(({data:{hits:e}})=>e)},makeReserveQuery(){const e=`https://pixabay.com/api/?image_type=backgrounds&orientation=horizontal&q=clouds&per_page=5&key=${this.apiKey}`;return J.a.get(e).then(({data:{hits:e}})=>e)},get query(){return this.searchQuery},set query(e){this.searchQuery=e}};function z(e){0===e.length?$.makeReserveQuery().then(z):B.backgroundWrapper.style=`background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.7)),\n  url('${e[3].largeImageURL}') center; background-size: cover;`}$.makeQuery().then(z).catch(()=>{$.makeReserveQuery().then(z)}),B.searchInput.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget;$.query=t.elements.query.value,$.makeQuery().then(z)}));n("3Olm"),n("7jFK");var F={favoriteCities:[]},K=n("04LC"),R=n.n(K),U=n("zLwO"),G=n.n(U);function V(){B.addToLocalStorageBtn.classList.remove("search-location__form-btn-focus")}function X(e){const t=R()(e);B.listOfButtons.innerHTML=t}function Y(){const e=localStorage.getItem("city");if(!e)return;const t=JSON.parse(e);return F.favoriteCities=t,t}function Z(){const e=new G.a({selector:B.listOfButtons,perPage:{279:2,767:4,1119:4},duration:200,draggable:!1,multipleDrag:!1,threshold:20,loop:!1});B.btnPrev.addEventListener("click",()=>e.prev()),B.btnNext.addEventListener("click",()=>e.next()),B.listOfButtons.addEventListener("click",t=>{if("path"===t.target.nodeName){const t=e.currentSlide;e.remove(t)}})}X(Y()),Z(),B.addToLocalStorageBtn.addEventListener("click",()=>{!function(){const e=B.form.value;if(!e)return;B.addToLocalStorageBtn.classList.add("search-location__form-btn-focus"),F.favoriteCities.push(e),localStorage.setItem("city",JSON.stringify(F.favoriteCities)),B.form.value="",setTimeout(V,800)}(),X(Y()),Z()}),navigator.geolocation.getCurrentPosition((function(e){const t=e.coords,n=`https://api.opencagedata.com/geocode/v1/json?q=${t.latitude}+${t.longitude}&key=d4683b09d0c94ec0aebf0b2e043decbf`;J.a.get(n).then(e=>e.data.results[0].components.city?e.data.results[0].components.city:e.data.results[0].components.village).then(e=>{Q(e),function(e){$.query=e,$.makeQuery().then(z).catch(()=>{$.makeReserveQuery().then(z)})}(e)})}));n("q2jI")},q2jI:function(e,t){const n=document.querySelector("#right-arrow"),a=document.querySelector("#left-arrow"),o=document.querySelector(".days-list");n.addEventListener("click",(function(){o.scroll({left:160,behavior:"smooth"})})),a.addEventListener("click",(function(){o.scroll({left:-160,behavior:"smooth"})}))},sntm:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,o){var l,r,c=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,i=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="days-list__item">\n    <h3 class="days-list__day-of-the-week">\n        '+i("function"==typeof(r=null!=(r=d(n,"Day")||(null!=t?d(t,"Day"):t))?r:s)?r.call(c,{name:"Day",hash:{},data:o,loc:{start:{line:4,column:8},end:{line:4,column:15}}}):r)+'\n    </h3>\n    <h4 class="days-list__date">'+i("function"==typeof(r=null!=(r=d(n,"DayNum")||(null!=t?d(t,"DayNum"):t))?r:s)?r.call(c,{name:"DayNum",hash:{},data:o,loc:{start:{line:6,column:32},end:{line:6,column:42}}}):r)+" "+i("function"==typeof(r=null!=(r=d(n,"Month")||(null!=t?d(t,"Month"):t))?r:s)?r.call(c,{name:"Month",hash:{},data:o,loc:{start:{line:6,column:43},end:{line:6,column:52}}}):r)+'</h4>\n    <img src="'+i(u(null!=(l=null!=t?d(t,"icon"):t)?d(l,"icon"):l,t))+'" alt="'+i(u(null!=(l=null!=t?d(t,"icon"):t)?d(l,"iconDescription"):l,t))+'" class="days-list__img">\n    <div class="days-list__temperature-block">\n        <div class="days-list__min days-list__min-max">\n            <p class="days-list__title">\n                min\n            </p>\n            <p class="days-list__value days-list__value--degrees">'+i(u(null!=(l=null!=t?d(t,"temp"):t)?d(l,"TempMin"):l,t))+'</p>\n        </div>\n        <i class="days-list__line days-list__line--mobile "></i>\n        <i class="days-list__line days-list__line--tablet_desktop "></i>\n        <div class="days-list__min-max">\n            <p class="days-list__title">\n                max\n            </p>\n            <p class="days-list__value days-list__value--degrees">'+i(u(null!=(l=null!=t?d(t,"temp"):t)?d(l,"TempMax"):l,t))+'</p>\n        </div>\n    </div>\n    <button class="days-list__more-btn" type="button" data-day="'+i("function"==typeof(r=null!=(r=d(n,"DayNum")||(null!=t?d(t,"DayNum"):t))?r:s)?r.call(c,{name:"DayNum",hash:{},data:o,loc:{start:{line:25,column:64},end:{line:25,column:74}}}):r)+'">\n        more info\n    </button>\n</li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"list"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?l:""},useData:!0})},tNz6:function(e,t){},xDKS:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,o){var l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="timeWeather">\n    <p class="timeWeather__time">'+i(typeof(l=null!=(l=u(n,"time")||(null!=t?u(t,"time"):t))?l:c)===s?l.call(r,{name:"time",hash:{},data:o,loc:{start:{line:3,column:33},end:{line:3,column:41}}}):l)+'</p>\n    <p class="timeWeather__temp">\n        <img src="'+i(typeof(l=null!=(l=u(n,"icon")||(null!=t?u(t,"icon"):t))?l:c)===s?l.call(r,{name:"icon",hash:{},data:o,loc:{start:{line:5,column:18},end:{line:5,column:26}}}):l)+'" alt="'+i(typeof(l=null!=(l=u(n,"iconDescription")||(null!=t?u(t,"iconDescription"):t))?l:c)===s?l.call(r,{name:"iconDescription",hash:{},data:o,loc:{start:{line:5,column:33},end:{line:5,column:52}}}):l)+'" class="timeWeather__temp-icon">\n        <span>'+i(typeof(l=null!=(l=u(n,"temp")||(null!=t?u(t,"temp"):t))?l:c)===s?l.call(r,{name:"temp",hash:{},data:o,loc:{start:{line:6,column:14},end:{line:6,column:22}}}):l)+' &#176;</span>\n    </p>\n    <ul class="timeWeather__data">\n        <li class="timeWeather__pressure">'+i(typeof(l=null!=(l=u(n,"pressure")||(null!=t?u(t,"pressure"):t))?l:c)===s?l.call(r,{name:"pressure",hash:{},data:o,loc:{start:{line:9,column:42},end:{line:9,column:54}}}):l)+' mm</li>\n        <li class="timeWeather__humidity">'+i(typeof(l=null!=(l=u(n,"humidity")||(null!=t?u(t,"humidity"):t))?l:c)===s?l.call(r,{name:"humidity",hash:{},data:o,loc:{start:{line:10,column:42},end:{line:10,column:54}}}):l)+'%</li>\n        <li class="timeWeather__wind">'+i(typeof(l=null!=(l=u(n,"speed")||(null!=t?u(t,"speed"):t))?l:c)===s?l.call(r,{name:"speed",hash:{},data:o,loc:{start:{line:11,column:38},end:{line:11,column:47}}}):l)+" m/s</li>\n    </ul>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?l:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.322f240981745fc445de.js.map